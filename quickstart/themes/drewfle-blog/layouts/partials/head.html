<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>
    {{ block "title" . }}
      {{ .Title }} -
      {{ .Site.Title }}
    {{ end }}
  </title>
  {{ if .Description }}
    <meta name="description" content="{{ .Description }}" />
  {{ end }}
  {{ if .Keywords }}
    <meta name="keywords" content="{{ delimit .Keywords "," }}" />
  {{ end }}
  {{ if .Params.Author }}
    <meta name="author" content="{{ .Params.Author }}" />
  {{ end }}

  {{ hugo.Generator }}

  {{ $styles := resources.Get "css/styles.css" | resources.PostCSS (dict "config" "./assets/css/postcss.config.js") }}
  {{ if .Site.IsServer }}
    {{ $seed := "weqklrjfmnk213409ufasdfhnlk3j4bladsfsl" }}
    {{ $random := delimit (shuffle (split (md5 $seed) "" )) "" }}
    {{ $styles := $styles | resources.ExecuteAsTemplate (printf "css/styles.dev.%s.css" $random) $random }}
    <link rel="stylesheet" href="{{ $styles.RelPermalink }}" />
  {{ else }}
    {{ $styles := $styles | resources.Minify | resources.Fingerprint "sha512" | resources.PostProcess }}
    <link
      rel="stylesheet"
      href="{{ $styles.Permalink }}"
      integrity="{{ $styles.Data.Integrity }}"
    />
  {{ end }}

  {{ $js := resources.Get "js/main.js" | js.Build }}
  {{ if .Site.IsServer }}
    {{ $seed := "weqklrjfmnk213409ufasdfhnlk3j4bladsfsl" }}
    {{ $random := delimit (shuffle (split (md5 $seed) "" )) "" }}
    {{ $js := $js | resources.ExecuteAsTemplate (printf "js/main.dev.%s.js" $random) $random }}
    <script type="text/javascript" src="{{ $js.Permalink }}"></script>
  {{ else }}
    {{ $js := $js | resources.Minify | resources.Fingerprint "sha512" }}
    <script type="text/javascript" src="{{ $js.Permalink }}"></script>
  {{ end }}
</head>
