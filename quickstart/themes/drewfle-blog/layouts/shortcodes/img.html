{{ $src := .Page.Resources.GetMatch (printf "*%s" (.Get 0 | safeURL)) }}
{{ $alt := .Get 1 | safeHTML }}

{{ if $src }}
  {{/* Tailwind Max-width Break Points */}}
  {{/* https://tailwindcss.com/docs/screens#max-width-breakpoints */}}
  {{ $bp_nums := slice "639" "767" "1023" "1279" "1535" }}


  <picture class="md__image">
    {{ range $bp_num := $bp_nums }}
      {{ $option := printf "%sx webp q90" $bp_num }}
      <source
        media="(max-width: {{ $bp_num }}px)"
        srcset="
          {{ with ($src.Resize $option).RelPermalink }}
            {{ . }}
          {{ end }}

        "
      />
    {{ end }}
    <img alt="{{ $alt }}" title="{{ $alt }}" src="{{ $src.RelPermalink }}" />
  </picture>
{{ end }}
